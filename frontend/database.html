Riccardo Benedetti Unibo, [06/09/2024 17:37]
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dati Database</title>

    <!-- Tailwind CSS per lo stile base -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #1f2937;
        }

        table {
            width: 100%;
            max-width: 800px;
            margin-top: 20px;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #4b5563;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #374151;
            color: #f3f4f6;
        }

        td {
            background-color: #1f2937;
            color: #f3f4f6;
        }
    </style>
</head>

<body>
    <h1 class="text-2xl font-bold text-white">Dati del Database</h1>

    <!-- Sezione per i Geofence -->
    <h2 class="text-xl font-bold text-white mt-4">Dati Geofence</h2>
    <table id="geofencesTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Markers</th>
                <th>Geofences</th>
            </tr>
        </thead>
        <tbody>
            <!-- I dati verranno inseriti qui da JavaScript -->
        </tbody>
    </table>

    <!-- Sezione per gli utenti -->
    <h2 class="text-xl font-bold text-white mt-4">Utenti</h2>
    <table id="usersTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Content POI</th>
            </tr>
        </thead>
        <tbody>
            <!-- I dati verranno inseriti qui da JavaScript -->
        </tbody>
    </table>

    <!-- Sezione per le risposte al questionario -->
    <h2 class="text-xl font-bold text-white mt-4">Risposte al Questionario</h2>
    <table id="questionnaireTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Aree Verdi</th>
                <th>Parcheggi</th>
                <th>Fermate Bus</th>
                <th>Supermercati</th>
                <th>Scuole</th>
                <th>Ristoranti</th>
                <th>Ospedali</th>
                <th>Cinema</th>
                <th>Parchi Giochi</th>
            </tr>
        </thead>
        <tbody>
            <!-- I dati verranno inseriti qui da JavaScript -->
        </tbody>
    </table>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Fetch dati Geofence
            fetch('/get-geofences')
                .then(response => response.json())
                .then(data => {
                    const tableBody = document.querySelector('#geofencesTable tbody');
                    tableBody.innerHTML = ''; // Pulisci la tabella esistente

                    data.forEach(item => {
                        const row = document.createElement('tr');

                        const idCell = document.createElement('td');
                        idCell.textContent = item.id;
                        row.appendChild(idCell);

                        const markersCell = document.createElement('td');
                        markersCell.textContent = JSON.stringify(item.markers);
                        row.appendChild(markersCell);

                        const geofencesCell = document.createElement('td');
                        geofencesCell.textContent = JSON.stringify(item.geofences);
                        row.appendChild(geofencesCell);

                        tableBody.appendChild(row);
                    });
                })
                .catch(error => {
                    console.error('Error fetching geofences:', error);
                });


// Fetch dati User
            fetch('/get-users')
                .then(response => response.json())
                .then(data => {
                    const tableBody = document.querySelector('#usersTable tbody');
                    tableBody.innerHTML = ''; // Pulisci la tabella esistente

                    data.forEach(item => {
                        const row = document.createElement('tr');

                        const idCell = document.createElement('td');
                        idCell.textContent = item.id;
                        row.appendChild(idCell);

                        const contentCell = document.createElement('td');
                        contentCell.textContent = JSON.stringify(item.content_poi);
                        row.appendChild(contentCell);

                        tableBody.appendChild(row);
                    });
                })
                .catch(error => {
                    console.error('Error fetching users:', error);
                });

            // Fetch dati Questionario
            fetch('/get-questionnaire-responses')
                .then(response => response.json())
                .then(data => {
                    const tableBody = document.querySelector('#questionnaireTable tbody');
                    tableBody.innerHTML = ''; // Pulisci la tabella esistente

                    data.forEach(item => {
                        const row = document.createElement('tr');

                        const idCell = document.createElement('td');
                        idCell.textContent = item.id;
                        row.appendChild(idCell);

                        const areeVerdiCell = document.createElement('td');
                        areeVerdiCell.textContent = item.aree_verdi;
                        row.appendChild(areeVerdiCell);

                        const parcheggiCell = document.createElement('td');
                        parcheggiCell.textContent = item.parcheggi;
                        row.appendChild(parcheggiCell);

                        const fermateBusCell = document.createElement('td');
                        fermateBusCell.textContent = item.fermate_bus;
                        row.appendChild(fermateBusCell);

                        const supermercatiCell = document.createElement('td');
                        supermercatiCell.textContent = item.supermercati;
                        row.appendChild(supermercatiCell);

                        const scuoleCell = document.createElement('td');
                        scuoleCell.textContent = item.scuole;
                        row.appendChild(scuoleCell);

                        const ristorantiCell = document.createElement('td');
                        ristorantiCell.textContent = item.ristoranti;
                        row.appendChild(ristorantiCell);

                        const ospedaliCell = document.createElement('td');
                        ospedaliCell.textContent = item.ospedali;
                        row.appendChild(ospedaliCell);

                        const cinemaCell = document.createElement('td');
                        cinemaCell.textContent = item.cinema;
                        row.appendChild(cinemaCell);

                        const parchiGiochiCell = document.createElement('td');
                        parchiGiochiCell.textContent = item.parchi_giochi;
                        row.appendChild(parchiGiochiCell);
                        
                        const palestreCell = document.createElement('td');
                        palestreCell.textContent = item.palestre;
                        row.appendChild(palestreCell);

                        tableBody.appendChild(row);
                    });
                })
                .catch(error => {
                    console.error('Error fetching questionnaire responses:', error);
                });
        });
    </script>
</body>

</html>